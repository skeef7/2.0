<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Рулетка</title>
  <link rel="stylesheet" href="styles/main.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="app">
    <!-- Top banner with enhanced chances -->
    <div class="top-banner">
      <div class="banner-content">
        <span class="banner-icon">↗</span>
        <span class="banner-text">Шансы повышены в 1.5 раза</span>
      </div>
    </div>

    <!-- Main content -->
    <main class="main">
      <!-- Roulette type selector -->
      <div class="roulette-selector">
        <button class="roulette-btn active" data-cost="25">
          <span class="cost">25</span>
          <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--md">
        </button>
        <button class="roulette-btn" data-cost="50">
          <span class="cost">50</span>
          <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--md">
        </button>
        <button class="roulette-btn" data-cost="100">
          <span class="cost">100</span>
          <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--md">
        </button>
      </div>

      <!-- Roulette container -->
      <div class="roulette-container">
        <div class="roulette-pointer"></div>
        <div class="roulette-scope">
          <ul class="roulette-list"></ul>
        </div>
      </div>

      <!-- Demo mode toggle -->
      <div class="demo-toggle">
        <label class="toggle-label">
          <input type="checkbox" id="demoMode" class="toggle-input">
          <span class="toggle-slider"></span>
          <span class="toggle-text">Демо режим</span>
        </label>
      </div>

      <!-- Spin button -->
      <button class="spin-btn" id="spinBtn">
        <span class="spin-text">Мне повезёт!</span>
        <span class="spin-cost">25 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--lg"></span>
      </button>

      <!-- Horizontal scrollable chances display -->
      <div class="chances">
        <h3 class="chances-title">Вы можете выиграть...</h3>
        <div class="chances-scroll-container">
          <div class="chances-list" id="chancesList">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>
      </div>
    </main>

    <!-- Bottom navigation -->
    <nav class="bottom-nav">
      <button class="nav-btn active" data-page="roulette">
        <div class="nav-icon">
          <img src="IMG/icons/roulette-icon.png" alt="Рулетка" class="nav-icon-img">
        </div>
        <span class="nav-text">Рулетка</span>
      </button>
      <button class="nav-btn" data-page="inventory">
        <div class="nav-icon">
          <img src="IMG/icons/inventory-icon.png" alt="Инвентарь" class="nav-icon-img">
        </div>
        <span class="nav-text">Инвентарь</span>
      </button>
      <button class="nav-btn" data-page="profile">
        <div class="nav-icon">
          <img src="IMG/icons/profile-icon.png" alt="Профиль" class="nav-icon-img">
        </div>
        <span class="nav-text">Профиль</span>
      </button>
    </nav>

    <!-- Inventory page -->
    <div class="page inventory-page" id="inventoryPage">
      <header class="page-header">
        <button class="back-btn">←</button>
        <h1>Инвентарь</h1>
      </header>

      <div class="inventory-grid" id="inventoryGrid">
        <!-- Compact inventory items -->
        <div class="inventory-item rare">
          <div class="item-count">×3</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Heart.gif" alt="Heart" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Heart</div>
            <div class="item-value">30 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Heart')">
              <span class="action-text">Продать</span>
              <span class="action-price">26 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Heart')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>

        <div class="inventory-item epic">
          <div class="item-count">×1</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Ring.gif" alt="Ring" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Ring</div>
            <div class="item-value">150 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Ring')">
              <span class="action-text">Продать</span>
              <span class="action-price">129 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Ring')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>

        <div class="inventory-item legendary">
          <div class="item-count">×1</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Diamond.gif" alt="Diamond" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Diamond</div>
            <div class="item-value">200 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Diamond')">
              <span class="action-text">Продать</span>
              <span class="action-price">172 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Diamond')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>

        <div class="inventory-item common">
          <div class="item-count">×5</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Teddy.gif" alt="Teddy Bear" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Teddy Bear</div>
            <div class="item-value">15 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Teddy Bear')">
              <span class="action-text">Продать</span>
              <span class="action-price">13 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Teddy Bear')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>

        <div class="inventory-item rare">
          <div class="item-count">×2</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Rose.gif" alt="Rose" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Rose</div>
            <div class="item-value">80 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Rose')">
              <span class="action-text">Продать</span>
              <span class="action-price">69 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Rose')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>

        <div class="inventory-item epic">
          <div class="item-count">×1</div>
          <div class="inventory-item-image">
            <img src="IMG/case/Rocket.gif" alt="Rocket" loading="lazy">
          </div>
          <div class="inventory-item-info">
            <div class="item-name">Rocket</div>
            <div class="item-value">160 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--sm"></div>
          </div>
          <div class="item-actions">
            <button class="action-btn sell-action-btn" onclick="app.sellInventoryItem('Rocket')">
              <span class="action-text">Продать</span>
              <span class="action-price">138 <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xs"></span>
            </button>
            <button class="action-btn withdraw-action-btn" onclick="app.withdrawInventoryItem('Rocket')">
              <span class="action-text">Вывод</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Profile page -->
    <div class="page profile-page" id="profilePage">
      <header class="page-header">
        <button class="back-btn">←</button>
        <h1>Профиль</h1>
      </header>
      <div class="profile-content">
        <!-- Profile avatar and name -->
        <div class="profile-avatar">
          <div class="avatar-circle">👤</div>
        </div>
        <div class="profile-info">
          <h2 class="profile-name">Игрок</h2>
          
          <!-- Balance section - MOVED HERE WITH IN-GAME CURRENCY -->
          <div class="profile-balance">
            <div class="balance-card">
              <div class="balance-icon">
                <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="balance-currency-icon">
              </div>
              <div class="balance-info">
                <div class="balance-label">Ваш баланс</div>
                <div class="balance-amount-profile">
                  <span id="profileBalance">1000</span>
                  <img src="IMG/CryptoBotAssets_AgADQ14AAnJguEo.png" alt="star" class="currency-emoji currency-emoji--xxl">
                </div>
              </div>
            </div>
          </div>
          
          <!-- Stats section -->
          <div class="profile-stats">
            <div class="stat">
              <span class="stat-label">Всего прокруток</span>
              <span class="stat-value" id="totalSpins">0</span>
            </div>
            <div class="stat">
              <span class="stat-label">Выиграно призов</span>
              <span class="stat-value" id="totalWins">0</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Win modal (for demo mode) -->
    <div class="modal" id="winModal">
      <div class="modal-content">
        <div class="win-animation">
          <div class="win-item" id="winItem"></div>
        </div>
        <h2 class="win-title">Поздравляем!</h2>
        <p class="win-description" id="winDescription"></p>
        <button class="modal-btn" onclick="closeWinModal()">Забрать</button>
      </div>
    </div>

    <!-- Sell/Keep modal -->
    <div class="modal" id="sellKeepModal">
      <div class="modal-content">
        <div class="win-animation">
          <div class="win-item" id="sellKeepItem"></div>
        </div>
        <h2 class="win-title">Поздравляем!</h2>
        <p class="win-description">Вы выиграли: <span id="sellKeepItemName"></span>!</p>
        <div class="sell-keep-options">
          <button class="modal-btn sell-btn" onclick="sellItem()">
            <span>Продать за</span>
            <span id="sellPrice"></span>
          </button>
          <button class="modal-btn keep-btn" onclick="keepItem()">
            Оставить в инвентаре
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>